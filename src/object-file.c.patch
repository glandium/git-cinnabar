diff --git a/object-file.c b/object-file.c
index c5b74764f1..bab2038a0c 100644
--- a/object-file.c
+++ b/object-file.c
@@ -30,6 +30,12 @@
 #include "tempfile.h"
 #include "tmp-objdir.h"
 
+#define odb_source_loose_write_object real_odb_source_loose_write_object
+
+int real_odb_source_loose_write_object(struct odb_source *source, const void *buf, size_t len,
+                                       enum object_type type, struct object_id *oid,
+                                       struct object_id *compat_oid_in, unsigned flags);
+
 /* The maximum size for an object header. */
 #define MAX_HEADER_LEN 32
 
